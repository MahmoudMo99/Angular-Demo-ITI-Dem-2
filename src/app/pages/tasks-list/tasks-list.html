<div class="container py-4">
  <div class="d-flex align-items-center justify-content-between mb-3">
    <div>
      <h1>{{ pageTitle }}</h1>
    </div>

    <!-- stat -->
    <div class="d-flex gap-2">
      <span class="badge text-bg-secondary"> Total : {{ totalCount }} </span>
      <span class="badge text-bg-success"> Done : {{ doneCount }} </span>
      <span class="badge text-bg-primary"> Pending : {{ pendingCount }} </span>
    </div>
  </div>

  <!-- control flow -->

  @if (totalCount === 0) {
    <div class="alert alert-info">No Tasks yet</div>
  } @else if (doneCount === totalCount) {
    <div class="alert alert-success">All tasks are done.</div>
  } @else {
    <div class="alert alert-warning">you have {{ totalCount }} keep going</div>
  }

  <div class="card shadow-sm mb-3">
    <div class="card-body">
      <div class="row g-2 align-content-end">
        <div class="col-7">
          <label for="" class="form-label">New Task</label>
          <input
            type="text"
            class="form-control"
            [(ngModel)]="newTitleTask"
            [placeholder]="placeholder"
            (keyup.enter)="addTask()"
          />
        </div>

        <div class="col-5">
          <label for="" class="form-label">Filter</label>
          <select class="form-select" [(ngModel)]="selectedStatus">
            <option value="all">All</option>
            <option value="todo">todo</option>
            <option value="done">Done</option>
            <option value="doing">Doing</option>
          </select>
        </div>
      </div>
    </div>
  </div>

  @if (filterTasks.length === 0) {
    <div class="text-center">No Tasks</div>
  } @else {
    <div class="row g-3">
      @for (task of filterTasks; track $index) {
        <div class="col-12">
          <div class="card shadow-sm">
            <div class="card-body d-flex align-items-start justify-content-between">
              <div class="me-3">
                <h5>{{ task.title }}</h5>
              </div>
              <span class="badge text-bg-danger"> {{ task.priority }}</span>
            </div>
          </div>
        </div>
      }
    </div>
  }
</div>
