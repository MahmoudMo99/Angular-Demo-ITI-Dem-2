<div
  appHighlight
  appHoverCard
  [hoverScale]="1.05"
  [hoverShadow]="'10px 5px 2px gray'"
  class="card task-card"
  [class.border-success]="task.status === 'done'"
  [class.border-primary]="task.status === 'doing'"
  [class.border-secondary]="task.status === 'todo'"
  [class.border-2]="task.status !== 'todo'"
  [style.opacity]="task.status === 'done' ? 0.5 : 1"
  [style.transform]="task.status === 'doing' ? 'scale(1.03)' : 'none'"
>
  <div class="card-body">
    <div class="d-flex align-items-start justify-content-between gap-3">
      <div class="flex-grow-1 min-w-0">
        <!-- style binding -->
        <!-- <h5
                    class="mb-1 text-truncate"
                    [style.textDecoration]="task.status === 'done' ? 'line-through' : 'none'"

                  >
                    {{ task.title }}
                  </h5> -->

        <!-- ng Style directiiiiiive -->
        <h5
          class="mb-1 text-truncate"
          [ngStyle]="{
            textDecoration: task.status === 'done' ? 'line-through' : 'none',
            opacity: task.status === 'done' ? 0.6 : 1,
            color: task.status === 'doing' ? 'darkBlue' : 'blue',
          }"
        >
          {{ task.title | truncate: 15 }}
        </h5>

        <div class="d-flex flex-wrap align-items-center gap-2">
          <!-- Status -->
          @switch (task.status) {
            @case ('todo') {
              <span class="badge rounded-pill text-bg-secondary">TODO</span>
            }
            @case ('doing') {
              <span class="badge rounded-pill text-bg-primary">DOING</span>
            }
            @case ('done') {
              <span class="badge rounded-pill text-bg-success">DONE</span>
            }
          }

          <!-- Priority -->
          <!-- <span
                      class="badge rounded-pill"
                      [class.text-bg-success]="task.priority === 'low'"
                      [class.text-bg-warning]="task.priority === 'medium'"
                      [class.text-bg-danger]="task.priority === 'high'"
                    >
                      {{ task.priority }}
                    </span> -->

          <!-- ng Class directiiiiiive -->
          <span
            class="badge rounded-pill"
            [ngClass]="{
              'text-bg-success': task.priority === 'low',
              'text-bg-warning': task.priority === 'medium',
              'text-bg-danger': task.priority === 'high',
            }"
          >
            {{ task.priority }}
          </span>
        </div>
      </div>

      <div class="d-flex gap-2 flex-shrink-0">
        <button class="btn btn-outline-primary btn-sm" (click)="nextStatus()">Next Status</button>
        <button class="btn btn-outline-danger btn-sm" (click)="deleteTask()">Delete</button>

        <a class="btn btn-outline-dark btn-sm" [routerLink]="['/tasks', task.id]">View Details</a>
      </div>
    </div>
  </div>
</div>
